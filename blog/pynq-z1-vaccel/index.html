<!DOCTYPE html>
<!-- This site was created with Hugo Blox. https://hugoblox.com -->
<!-- Last Published: February 16, 2026 --><html lang="en-us" >


<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  
    <meta name="generator" content="Hugo Blox Builder 5.9.7" />
  

  
  












  
  










  







  
  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Mono&family=Roboto:wght@400;700&display=swap" media="print" onload="this.media='all'">
    
  

  
  

  
  

  

  <link rel="stylesheet" href="/css/vendor-bundle.min.26c458e6907dc03073573976b7f4044e.css" media="print" onload="this.media='all'">

  
  
  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1.9.4/css/academicons.min.css" integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    
    
    
    
      
      
    
    
    

    
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.css" integrity="" crossorigin="anonymous" media="print" onload="this.media='all'">
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.b2143a565ef733cce408eccf45aa36ba.css" />

  
  
  

  
  
  
  
  
  
  
    
    
    <link rel="stylesheet" href="/css/libs/chroma/github-light.min.css" title="hl-light" media="print" onload="this.media='all'" >
    <link rel="stylesheet" href="/css/libs/chroma/dracula.min.css" title="hl-dark" media="print" onload="this.media='all'" disabled>
  

  
  



























  
  
  






  <meta name="author" content="Charalampos Mainas" />





  

<meta name="description" content="Running applications that need hardware acceleration in public clouds remains a
challenge, both for end-users and for service providers. The reasons for this are
mostly related to the complicated hardware abstractions that acceleration devices expose,
as well as to the complicated software stacks that drive these devices." />



<link rel="alternate" hreflang="en-us" href="/blog/pynq-z1-vaccel/" />
<link rel="canonical" href="/blog/pynq-z1-vaccel/" />



  <link rel="manifest" href="/manifest.webmanifest" />



<link rel="icon" type="image/png" href="/media/icon_hu_ea0c30c6d45d84f4.png" />
<link rel="apple-touch-icon" type="image/png" href="/media/icon_hu_86daab30bf3ca8be.png" />

<meta name="theme-color" content="#1565c0" />










  
  






<meta property="twitter:card" content="summary" />

  <meta property="twitter:site" content="@GetResearchDev" />
  <meta property="twitter:creator" content="@GetResearchDev" />
<meta property="twitter:image" content="/media/logo_hu_f553cb9eef83bc41.png" />



  

<meta property="og:type" content="website" />
<meta property="og:site_name" content="Nubificus" />
<meta property="og:url" content="/blog/pynq-z1-vaccel/" />
<meta property="og:title" content="Remote FPGA acceleration: vAccel on PYNQ-Z1 | Nubificus" />
<meta property="og:description" content="Running applications that need hardware acceleration in public clouds remains a
challenge, both for end-users and for service providers. The reasons for this are
mostly related to the complicated hardware abstractions that acceleration devices expose,
as well as to the complicated software stacks that drive these devices." /><meta property="og:image" content="/media/logo_hu_f553cb9eef83bc41.png" /><meta property="og:locale" content="en-us" />

  
    <meta
      property="article:published_time"
      content="2023-01-20T10:14:04&#43;01:00"
    />
  
  
    <meta property="article:modified_time" content="2023-01-20T10:14:04&#43;01:00">
  







  




  
  
  

  
  

  
  
  
  
  
    <script src="https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.js" integrity="sha512-yXXqOFjdjHNH1GND+1EO0jbvvebABpzGKD66djnUfiKlYME5HGMUJHoCaeE4D5PTG2YsSJf6dwqyUUvQvS0vaA==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/osano/cookieconsent@3.1.1/build/cookieconsent.min.css" integrity="sha512-LQ97camar/lOliT/MqjcQs5kWgy6Qz/cCRzzRzUCfv0fotsCTC9ZHXaPQmJV8Xu/PVALfJZ7BDezl5lW3/qBxg==" crossorigin="anonymous">
  
  <script>
  window.addEventListener("load", function(){
    window.cookieconsent.initialise({
      "palette": {
        "popup": {
          "background": "#1565c0",
          "text": "rgb(255, 255, 255)"
        },
        "button": {
          "background": "rgb(255, 255, 255)",
          "text": "#1565c0"
        }
      },
      "theme": "classic",
      "content": {
        "message": "This website uses cookies to ensure you get the best experience on our website.",
        "dismiss": "Got it!",
        "link": "Learn more",
        "href": "https://www.cookiesandyou.com"
      }
    })});
  </script>



  
  <title>Remote FPGA acceleration: vAccel on PYNQ-Z1 | Nubificus</title>

  
  
  
  











</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="da08059abb77ba0dfb0a6a22401145db" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.9e4214442a7711d35691acd58f6f6361.js"></script>

  




  <div class="page-header header--fixed">
  
  
  
  
  


<style>
.navbar-logo {
    height: 50px;
    display: flex;
    align-items: center;
}

.navbar-logo img {
    max-height: 45px;
    width: auto;
    display: block;
}

.navbar-logo .logo-dark {
    display: none;
}

body.colorscheme-dark .navbar-logo .logo-light,
body.dark .navbar-logo .logo-light {
    display: none;
}

body.colorscheme-dark .navbar-logo .logo-dark,
body.dark .navbar-logo .logo-dark {
    display: block;
}

.navbar-logo.logo-nubis,
.navbar-logo.logo-nubificus {
    display: none;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var host = window.location.hostname;
    var isNubis = (host === 'nubis-pc.eu' || host === 'www.nubis-pc.eu');
    var cls = isNubis ? 'logo-nubis' : 'logo-nubificus';
    document.querySelectorAll('.navbar-logo.' + cls).forEach(function(el) {
        el.style.display = 'flex';
    });
    document.querySelectorAll('[data-brand]').forEach(function(el) {
        var role = el.getAttribute('data-brand');
        if (isNubis) {
            el.textContent = (role === 'primary') ? 'Nubis' : 'Nubificus';
        } else {
            el.textContent = (role === 'primary') ? 'Nubificus' : 'Nubis';
        }
    });
});
</script>










  


<header>
  <nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
    <div class="container-xl">

      
      
      
      <div class="d-none d-lg-inline-flex">
        <a class="navbar-brand" href="/">
          <div class="navbar-logo logo-nubificus">
            <img class="logo-light" src="/media/logo-nubificus_hu_5bae3e7b5bc92c43.png" alt="Nubificus">
            <img class="logo-dark" src="/media/logo-nubificus-dark_hu_1887b26263e462ca.png" alt="Nubificus">
          </div>
          <div class="navbar-logo logo-nubis">
            <img class="logo-light" src="/media/logo-nubis.png" alt="Nubis PC">
            <img class="logo-dark" src="/media/logo-nubis-dark.png" alt="Nubis PC">
          </div>
        </a>
      </div>
      

      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
      <span><i class="fas fa-bars"></i></span>
      </button>
      

      
      <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
        <a class="navbar-brand" href="/">
          <div class="navbar-logo logo-nubificus">
            <img class="logo-light" src="/media/logo-nubificus_hu_5bae3e7b5bc92c43.png" alt="Nubificus">
            <img class="logo-dark" src="/media/logo-nubificus-dark_hu_1887b26263e462ca.png" alt="Nubificus">
          </div>
          <div class="navbar-logo logo-nubis">
            <img class="logo-light" src="/media/logo-nubis.png" alt="Nubis PC">
            <img class="logo-dark" src="/media/logo-nubis-dark.png" alt="Nubis PC">
          </div>
        </a>
      </div>
      

      
      
      <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

        
        <ul class="navbar-nav d-md-inline-flex">
          

          

          
          
          

          

          
          
          
          

          
            
            
          

          <li class="nav-item">
            <a class="nav-link " href="/"><span>Home</span></a>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Research</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/projects/"><span>Projects</span></a>
              
                <a class="dropdown-item" href="/publication"><span>Publications</span></a>
              
            </div>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Solutions</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/solutions/edgelink/"><span>edgeLink</span></a>
              
                <a class="dropdown-item" href="/solutions/urunc/"><span>urunc</span></a>
              
                <a class="dropdown-item" href="/solutions/vaccel/"><span>vAccel</span></a>
              
            </div>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>Feed</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/post"><span>News</span></a>
              
                <a class="dropdown-item" href="/event"><span>Events</span></a>
              
            </div>
          </li>

          
          

          
          <li class="nav-item dropdown">
            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"><span>About</span><span class="caret"></span>
            </a>
            <div class="dropdown-menu">
              
                <a class="dropdown-item" href="/people"><span>People</span></a>
              
                <a class="dropdown-item" href="/contact"><span>Contact</span></a>
              
            </div>
          </li>

          
          

        

          
        </ul>
      </div>

      <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        

        
        
        

        
        
        
        <li class="nav-item dropdown theme-dropdown">
          <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-label="Display preferences">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </a>
          <div class="dropdown-menu">
            <a href="#" class="dropdown-item js-set-theme-light">
              <span>Light</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-dark">
              <span>Dark</span>
            </a>
            <a href="#" class="dropdown-item js-set-theme-auto">
              <span>Automatic</span>
            </a>
          </div>
        </li>
        

        
        

      </ul>

    </div>
  </nav>
</header>


  </div>

  <div class="page-body">
    
    
    

    <article class="article">

  













  

  
  
  
<div class="article-container pt-3">
  <h1>Remote FPGA acceleration: vAccel on PYNQ-Z1</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
    
    Jan 20, 2023
  </span>
  

  

  

  
  
  
  

  
  

</div>

    





  
</div>



  <div class="article-container">

    <div class="article-style">
      <p>Running applications that need hardware acceleration in public clouds remains a
challenge, both for end-users and for service providers. The reasons for this are
mostly related to the complicated hardware abstractions that acceleration devices expose,
as well as to the complicated software stacks that drive these devices.</p>
<p>In an effort to hide the complexity of the software stack under the hood, and
provide end-users with the capability of accelerating their applications, we
have introduced <a href="https://vaccel.org" target="_blank" rel="noopener">vAccel</a>, a hardware acceleration
abstraction to semantically expose functions that can be accelerated to
workloads running in VMs or even remote hosts.</p>
<p>In this post, we will present how we can use vAccel to remotely execute basic
FPGA operations on a PYNQ-Z1 board. First, we go through a brief description of
the hardware and software components of this example, as well as the steps to
reproduce the experiment. We install the vAccel software stack to the board
running a generic linux distribution and run a local example. Then, we run the
same example remotely, using a client machine connected to the same network as
our development board.</p>
<h2 id="overview">Overview</h2>
<p>As mentioned above, we are using a PYNQ-Z1 development board. The PYNQ-Z1 board
is the hardware platform for the PYNQ open-source framework. It features a
Zynq-7000 (XC7Z020-1CLG400C) All Programmable System-On-Chip (APSoC),
integrating a feature-rich dual-core Cortex-A9 based processing system (PS) and
Xilinx programmable logic (PL) in a single device. Figure 1 shows an image of
the PYNQ-Z1 development board by Digilent.</p>
<p>Apart from Petalinux, you can install a generic linux distribution. We recently
walked through the process of <a href="../pynq-z1">installing debian on a PYNQ-Z1</a>.</p>
<h2 id="install-vaccel">Install vAccel</h2>
<p>We can use the binary release or build from source. For the sake of completeness we present both options.</p>
<h3 id="install-from-binaries">Install from binaries</h3>
<p>Get the deb package for the core vAccelRT library and install it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">wget https://s3.nbfc.io/nbfc-assets/github/vaccelrt/master/aarch32/Release-deb/vaccel-0.5.0-Linux.deb
</span></span><span class="line"><span class="cl">sudo dpkg -i vaccel-0.5.0-Linux.deb
</span></span></code></pre></div><p>We should be presented with a couple of libraries in <code>/usr/local/lib</code> as well
as some example binaries on <code>/usr/local/bin</code>.</p>
<p>Skip the next section and go directly to <a href="#test-the-installation">Test the installation</a>.</p>
<h3 id="build-from-source">Build from source</h3>
<p>Clone the repo and prepare to build:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">git clone https://github.com/cloudkernels/vaccelrt --recursive
</span></span><span class="line"><span class="cl"><span class="nb">cd</span> vaccelrt
</span></span><span class="line"><span class="cl">mkdir -p build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> build
</span></span><span class="line"><span class="cl">cmake ../ -DBUILD_PLUGIN_NOOP<span class="o">=</span>ON -DBUILD_EXAMPLES<span class="o">=</span>ON
</span></span></code></pre></div><p>To build and install use the following simple command:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">make install
</span></span></code></pre></div><h2 id="test-the-installation">Test the installation</h2>
<p>To make sure we&rsquo;ve got everything setup correctly, we can run a couple of examples. First we could use the <code>noop</code> plugin to do image classification on an image.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Set the path to the vAccel libraries</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:/usr/local/lib
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Set the plugin to noop</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_BACKENDS</span><span class="o">=</span>/usr/local/lib/libvaccel-noop.so
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># enable Debug</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_DEBUG_LEVEL</span><span class="o">=</span><span class="m">4</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Run the classify example</span>
</span></span><span class="line"><span class="cl">/usr/local/bin/classify /usr/local/share/images/example.jpg <span class="m">1</span>
</span></span></code></pre></div><p>We should be presented with debug output and a dummy classification tag:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">user@debian-fpga:~$ /usr/local/bin/classify /usr/local/share/images/example.jpg 1
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Initializing vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Created top-level rundir: /run/user/1001/vaccel.ogcPti
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function noop from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function sgemm from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function image classification from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function image detection from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function image segmentation from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function image pose estimation from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function image depth estimation from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function exec from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function TensorFlow session load from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function TensorFlow session run from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function TensorFlow session delete from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function MinMax from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function Array copy from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function Vector Add from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function Parallel acceleration from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Registered function Matrix multiplication from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; Loaded plugin noop from /usr/local/lib/libvaccel-noop.so
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.09 - &lt;debug&gt; session:1 New session
</span></span></span><span class="line"><span class="cl"><span class="go">Initialized session with id: 1
</span></span></span><span class="line"><span class="cl"><span class="go">Image size: 79281B
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.11 - &lt;debug&gt; session:1 Looking for plugin implementing image classification
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.11 - &lt;debug&gt; Found implementation in noop plugin
</span></span></span><span class="line"><span class="cl"><span class="go">[noop] Calling Image classification for session 1
</span></span></span><span class="line"><span class="cl"><span class="go">[noop] Dumping arguments for Image classification:
</span></span></span><span class="line"><span class="cl"><span class="go">[noop] len_img: 79281
</span></span></span><span class="line"><span class="cl"><span class="go">[noop] will return a dummy result
</span></span></span><span class="line"><span class="cl"><span class="go">classification tags: This is a dummy classification tag!
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.11 - &lt;debug&gt; session:1 Free session
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.11 - &lt;debug&gt; Shutting down vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.11 - &lt;debug&gt; Cleaning up plugins
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:46:23.11 - &lt;debug&gt; Unregistered plugin noop
</span></span></span></code></pre></div><h2 id="run-local-example">Run local example</h2>
<p>An example more tailored to the board we&rsquo;re running on could be a vector
operation, such as a vector addition (as in
<a href="https://github.com/ikwzm" target="_blank" rel="noopener">Ichiro</a>&rsquo;s
<a href="https://github.com/ikwzm/FPGA-SoC-Linux-Example-1-PYNQ-Z1" target="_blank" rel="noopener">example</a>).</p>
<p>We already have a pre-compiled example for a vector addition in
<code>pynq_vector_add_generic</code>. Lets try to execute it:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">/usr/local/bin/pynq_vector_add_generic
</span></span></code></pre></div><p>The output is similar to the above. Since we&rsquo;re using the <code>noop</code> plugin, the
result is a dummy result, only for debugging.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">user@debian-fpga:~$ /usr/local/bin/pynq_vector_add_generic
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Initializing vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Created top-level rundir: /run/user/1001/vaccel.epcZBL
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function noop from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function sgemm from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function image classification from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function image detection from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function image segmentation from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function image pose estimation from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function image depth estimation from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function exec from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function TensorFlow session load from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function TensorFlow session run from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function TensorFlow session delete from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function MinMax from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function Array copy from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function Vector Add from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function Parallel acceleration from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Registered function Matrix multiplication from plugin noop
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Loaded plugin noop from /usr/local/lib/libvaccel-noop.so
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; session:1 New session
</span></span></span><span class="line"><span class="cl"><span class="go">Initialized session with id: 1
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; session:1 Looking for plugin implementing fpga_vector_add operation
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Found implementation in noop plugin
</span></span></span><span class="line"><span class="cl"><span class="go">[noop] Calling v_vectoradd for session 1
</span></span></span><span class="line"><span class="cl"><span class="go">[noop] Dumping arguments for v_vectoradd:
</span></span></span><span class="line"><span class="cl"><span class="go">[noop] len_a: 5 len_b: 5 
</span></span></span><span class="line"><span class="cl"><span class="go">9.100000
</span></span></span><span class="line"><span class="cl"><span class="go">9.100000
</span></span></span><span class="line"><span class="cl"><span class="go">9.100000
</span></span></span><span class="line"><span class="cl"><span class="go">9.100000
</span></span></span><span class="line"><span class="cl"><span class="go">9.100000
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; session:1 Free session
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Shutting down vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Cleaning up plugins
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:49:17.02 - &lt;debug&gt; Unregistered plugin noop
</span></span></span></code></pre></div><h2 id="get-the-pynq-hardware-plugin">Get the PYNQ hardware plugin</h2>
<p>Now that we have established that vAccel is working correctly on the board, we
can use the hardware plugin, built for PYNQ. It implements three vector
operations (<code>vector_add</code>, <code>array_copy</code> and <code>mmult</code>).</p>
<p>To get it, we grab the deb from the
<a href="https://docs.vaccel.org/binaries" target="_blank" rel="noopener">binaries</a> page of vAccel:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">wget https://s3.nbfc.io/nbfc-assets/github/vaccelrt/plugins/pynq/main/aarch32/Release-deb/vaccelrt-plugin-pynq-0.1-Linux.deb
</span></span><span class="line"><span class="cl">dpkg -i vaccelrt-plugin-pynq-0.1-Linux.deb
</span></span></code></pre></div><p>Once installed, it should place a shared object in <code>/usr/local/lib</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> ls -la /usr/local/lib/arm-linux-gnueabihf/libvaccel-pynq.so 
</span></span><span class="line"><span class="cl"><span class="go">-rw-r--r-- 1 root root 13144 Dec 25 03:41 /usr/local/lib/arm-linux-gnueabihf/libvaccel-pynq.so
</span></span></span></code></pre></div><p>We use this shared object as the vAccel plugin and re-run the <code>pynq_vector_add_generic</code>
program:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Set the path to the vAccel libraries</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:/usr/local/lib
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Set the plugin to PYNQ</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_BACKENDS</span><span class="o">=</span>/usr/local/lib/arm-linux-gnueabihf/libvaccel-pynq.so
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># enable Debug</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_DEBUG_LEVEL</span><span class="o">=</span><span class="m">4</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Run the vector add example</span>
</span></span><span class="line"><span class="cl">/usr/local/bin/pynq_vector_add_generic
</span></span></code></pre></div><p>The output should be like below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.30 - &lt;debug&gt; Initializing vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.30 - &lt;debug&gt; Created top-level rundir: /run/user/0/vaccel.kPHyje
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Registered plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Registered function Array copy from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Registered function Vector Add from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Registered function Parallel acceleration from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Registered function Matrix multiplication from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Loaded plugin fpga_functions from /usr/local/lib/arm-linux-gnueabihf/libvaccel-pynq.so
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; session:1 New session
</span></span></span><span class="line"><span class="cl"><span class="go">Initialized session with id: 1
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; session:1 Looking for plugin implementing fpga_vector_add operation
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Found implementation in fpga_functions plugin
</span></span></span><span class="line"><span class="cl"><span class="go">Calling Vector Add function (FPGA) 1
</span></span></span><span class="line"><span class="cl"><span class="go">2.800000
</span></span></span><span class="line"><span class="cl"><span class="go">2.100000
</span></span></span><span class="line"><span class="cl"><span class="go">8.500000
</span></span></span><span class="line"><span class="cl"><span class="go">3.500000
</span></span></span><span class="line"><span class="cl"><span class="go">11.299999
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; session:1 Free session
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Shutting down vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Cleaning up plugins
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-02:56:07.31 - &lt;debug&gt; Unregistered plugin fpga_functions
</span></span></span></code></pre></div><p>As we can see, it actually performed the addition on the two vectors. See the relevant snippet from the <a href="https://github.com/cloudkernels/vaccelrt/blob/master/examples/pynq_vector_add_generic.c" target="_blank" rel="noopener">code</a>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-C" data-lang="C"><span class="line"><span class="cl"><span class="p">[...]</span>
</span></span><span class="line"><span class="cl">	<span class="kt">float</span> <span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">,</span> <span class="mf">5.2</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl">	<span class="kt">float</span> <span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="o">-</span><span class="mf">2.2</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">,</span> <span class="mf">6.4</span><span class="p">,</span> <span class="mf">2.3</span><span class="p">,</span> <span class="mf">6.1</span> <span class="p">};</span>
</span></span><span class="line"><span class="cl"><span class="p">[...]</span>
</span></span><span class="line"><span class="cl">	<span class="n">ret</span> <span class="o">=</span> <span class="nf">vaccel_fpga_vadd</span><span class="p">(</span><span class="o">&amp;</span><span class="n">sess</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">len_a</span><span class="p">,</span> <span class="n">len_b</span><span class="p">);</span>
</span></span></code></pre></div><h2 id="run-remote-example">Run remote example</h2>
<p>To be able to run the above example remotely, we need two things:</p>
<ol>
<li>run the <code>vaccelrt-agent</code> as a vAccel application locally</li>
<li>run the <code>pynq_vector_add_generic</code> program on the remote host, using the relevant
plugin that enables remote execution (<code>vsock</code>).</li>
</ol>
<h3 id="run-the-vaccelrt-agent">Run the vAccelRT Agent</h3>
<p>The vAccelRT agent is essentially a vAccel application that on one side
consumes the vAccel API, and on the other side listens for gRPC requests from
remote hosts. To get it use the following commands:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">wget https://s3.nbfc.io/nbfc-assets/github/vaccelrt/agent/59704ec358de8f68345556a774c60788ac957183/aarch32/release/vaccelrt-agent
</span></span><span class="line"><span class="cl">chmod +x vaccelrt-agent
</span></span></code></pre></div><p>To expose the above functionality, we use the exact same environment variables,
only this time we run the agent, not the <code>pynq_vector_add_generic</code> program:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Set the path to the vAccel libraries</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:/usr/local/lib
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Set the plugin to PYNQ</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_BACKENDS</span><span class="o">=</span>/usr/local/lib/arm-linux-gnueabihf/libvaccel-pynq.so
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># enable Debug</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_DEBUG_LEVEL</span><span class="o">=</span><span class="m">4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># set the local endpoint</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_AGENT_ENDPOINT</span><span class="o">=</span>tcp://0.0.0.0:8192
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Run the vAccelRT agent</span>
</span></span><span class="line"><span class="cl">./vaccelrt-agent -a <span class="nv">$VACCEL_AGENT_ENDPOINT</span>
</span></span></code></pre></div><p>The output should be something like the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Initializing vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Created top-level rundir: /run/user/0/vaccel.apxqms
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Registered plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Registered function Array copy from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Registered function Vector Add from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Registered function Parallel acceleration from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Registered function Matrix multiplication from plugin fpga_functions
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.21-03:03:34.06 - &lt;debug&gt; Loaded plugin fpga_functions from /usr/local/lib/arm-linux-gnueabihf/libvaccel-pynq.so
</span></span></span><span class="line"><span class="cl"><span class="go">vaccel ttRPC server started. address: tcp://0.0.0.0:8192
</span></span></span><span class="line"><span class="cl"><span class="go">Server is running, press Ctrl + C to exit
</span></span></span></code></pre></div><h3 id="run-the-application-on-the-remote-host">Run the application on the remote host</h3>
<p>On the remote host, depending on the architecture and variant we need to setup vAccelRT and the relevant plugin that enables remote execution: <code>vaccelrt-plugin-vsock</code>.</p>
<p>Let&rsquo;s assume it&rsquo;s an <code>x86_64</code> host. The commands needed to setup vAccel are the following:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Get &amp; Install vAccelRT core library</span>
</span></span><span class="line"><span class="cl">wget https://s3.nbfc.io/nbfc-assets/github/vaccelrt/master/x86_64/Release-deb/vaccel-0.5.0-Linux.deb
</span></span><span class="line"><span class="cl">dpkg -i vaccel-0.5.0-Linux.deb
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Get &amp; Install the vSock plugin</span>
</span></span><span class="line"><span class="cl">wget https://s3.nbfc.io/nbfc-assets/github/vaccelrt/plugins/vsock/master/x86_64/Release-deb/vaccelrt-plugin-vsock-0.1.0-Linux.deb
</span></span><span class="line"><span class="cl">dpkg -i vaccelrt-plugin-vsock-0.1.0-Linux.deb
</span></span></code></pre></div><p>Now we should have the following on <code>/usr/local/lib</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> tree  /usr/local/lib/
</span></span><span class="line"><span class="cl"><span class="go">/usr/local/lib/
</span></span></span><span class="line"><span class="cl"><span class="go">├── libmytestlib.so
</span></span></span><span class="line"><span class="cl"><span class="go">├── libvaccel-noop.so
</span></span></span><span class="line"><span class="cl"><span class="go">├── libvaccel-python.so
</span></span></span><span class="line"><span class="cl"><span class="go">├── libvaccel.so
</span></span></span><span class="line"><span class="cl"><span class="go">├── libvaccel-vsock.so
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">0 directories, 5 files
</span></span></span></code></pre></div><p>As previously the process to execute the vAccel application is the same, with the only difference that we need to point the plugin to the IP address and port where the vAccelRT Agent listens:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl"><span class="c1"># Set the path to the vAccel libraries</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">LD_LIBRARY_PATH</span><span class="o">=</span><span class="nv">$LD_LIBRARY_PATH</span>:/usr/local/lib
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># enable Debug</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_DEBUG_LEVEL</span><span class="o">=</span><span class="m">4</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Set the plugin to VSOCK</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_BACKENDS</span><span class="o">=</span>/usr/local/lib/libvaccel-vsock.so
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># set the IP &amp; port</span>
</span></span><span class="line"><span class="cl"><span class="nb">export</span> <span class="nv">VACCEL_VSOCK</span><span class="o">=</span>tcp://192.168.4.21:8192
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Run the program</span>
</span></span><span class="line"><span class="cl">/usr/local/bin/pynq_vector_add_generic
</span></span></code></pre></div><p>The output should be something similar to this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> /usr/local/bin/pynq_vector_add_generic
</span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.18 - &lt;debug&gt; Initializing vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.18 - &lt;debug&gt; Created top-level rundir: /run/user/0/vaccel.X1hPel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; vsock is a VirtIO module
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function sgemm from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function image classification from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function image detection from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function image segmentation from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function image depth estimation from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function image pose estimation from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function TensorFlow session load from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function TensorFlow session delete from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function TensorFlow session run from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function MinMax from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function Array copy from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function Matrix multiplication from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function Vector Add from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function Parallel acceleration from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Registered function exec from plugin vsock
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.20 - &lt;debug&gt; Loaded plugin vsock from /usr/local/lib/libvaccel-vsock.so
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.21 - &lt;debug&gt; [vsock] Initializing session
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.21 - &lt;debug&gt; [vsock] New session 1
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.21 - &lt;debug&gt; session:1 New session
</span></span></span><span class="line"><span class="cl"><span class="go">Initialized session with id: 1
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.21 - &lt;debug&gt; session:1 Looking for plugin implementing fpga_vector_add operation
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.21 - &lt;debug&gt; Found implementation in vsock plugin
</span></span></span><span class="line"><span class="cl"><span class="go">2.800000
</span></span></span><span class="line"><span class="cl"><span class="go">2.100000
</span></span></span><span class="line"><span class="cl"><span class="go">8.500000
</span></span></span><span class="line"><span class="cl"><span class="go">3.500000
</span></span></span><span class="line"><span class="cl"><span class="go">11.299999
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.22 - &lt;debug&gt; [vsock] Destroying session 1
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.22 - &lt;debug&gt; [vsock] Destroying vsock client
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.22 - &lt;debug&gt; session:1 Free session
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.22 - &lt;debug&gt; Shutting down vAccel
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.22 - &lt;debug&gt; Cleaning up plugins
</span></span></span><span class="line"><span class="cl"><span class="go">2023.01.20-20:16:25.22 - &lt;debug&gt; Unregistered plugin vsock
</span></span></span></code></pre></div><p>That&rsquo;s it! we managed to use a PYNQ-Z1 board to run simple operations on the
FPGA fabric from a remote host. In addition to that, the remote host is of
different architecture than the PYNQ board.</p>
<h2 id="future-steps">Future steps</h2>
<p>As we are far from being experts on Hardware design, we plan to build a more
elaborate example for the FPGA board (e.g. an <a href="https://www.hackster.io/petrohi/use-tensil-and-pynq-to-run-resnet-20-on-pynq-z1-fpga-board-c71a29" target="_blank" rel="noopener">Image inference accelerator
using
Tensil</a>)
and use this as a backend for vAccel&rsquo;s Image inference API ;)</p>
<p>Give us a shout at <a href="mailto:team@cloudkernels.net">team@cloudkernels.net</a> if you liked it, or visit the
<a href="https://vaccel.org" target="_blank" rel="noopener">vAccel</a> website and drop us a note at
<a href="mailto:vaccel@nubificus.co.uk">vaccel@nubificus.co.uk</a> for more info!</p>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/pynq-z1/">PYNQ-Z1</a>
  
  <a class="badge badge-light" href="/tag/fpga/">FPGA</a>
  
  <a class="badge badge-light" href="/tag/vaccel/">Vaccel</a>
  
  <a class="badge badge-light" href="/tag/zynq-7000/">Zynq-7000</a>
  
</div>



<div class="share-box">
  <ul class="share">
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=%2Fblog%2Fpynq-z1-vaccel%2F&amp;text=Remote&#43;FPGA&#43;acceleration%3A&#43;vAccel&#43;on&#43;PYNQ-Z1" target="_blank" rel="noopener" class="share-btn-twitter" aria-label="twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=%2Fblog%2Fpynq-z1-vaccel%2F&amp;t=Remote&#43;FPGA&#43;acceleration%3A&#43;vAccel&#43;on&#43;PYNQ-Z1" target="_blank" rel="noopener" class="share-btn-facebook" aria-label="facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
        
      
      <li>
        <a href="mailto:?subject=Remote%20FPGA%20acceleration%3A%20vAccel%20on%20PYNQ-Z1&amp;body=%2Fblog%2Fpynq-z1-vaccel%2F" target="_blank" rel="noopener" class="share-btn-email" aria-label="envelope">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=%2Fblog%2Fpynq-z1-vaccel%2F&amp;title=Remote&#43;FPGA&#43;acceleration%3A&#43;vAccel&#43;on&#43;PYNQ-Z1" target="_blank" rel="noopener" class="share-btn-linkedin" aria-label="linkedin-in">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="whatsapp://send?text=Remote&#43;FPGA&#43;acceleration%3A&#43;vAccel&#43;on&#43;PYNQ-Z1%20%2Fblog%2Fpynq-z1-vaccel%2F" target="_blank" rel="noopener" class="share-btn-whatsapp" aria-label="whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=%2Fblog%2Fpynq-z1-vaccel%2F&amp;title=Remote&#43;FPGA&#43;acceleration%3A&#43;vAccel&#43;on&#43;PYNQ-Z1" target="_blank" rel="noopener" class="share-btn-weibo" aria-label="weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>
























  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  












  
  
  
  
  













  
  
  

  
  
    
  
  
    
  

  

  
  <p class="powered-by copyright-license-text">
    © 2026 Nubificus LTD. This work is licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank">CC BY NC ND 4.0</a>
  </p>
  

  <p class="powered-by footer-license-icons">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0" rel="noopener noreferrer" target="_blank" aria-label="Creative Commons">
      <i class="fab fa-creative-commons fa-2x" aria-hidden="true"></i>
      <i class="fab fa-creative-commons-by fa-2x" aria-hidden="true"></i>
      
        <i class="fab fa-creative-commons-nc fa-2x" aria-hidden="true"></i>
      
      
        <i class="fab fa-creative-commons-nd fa-2x" aria-hidden="true"></i>
      
    </a>
  </p>





  <p class="powered-by">
    
    
    
      
      
      
      
      
      
      Published with <a href="https://hugoblox.com/?utm_campaign=poweredby" target="_blank" rel="noopener">Hugo Blox Builder</a> — the free, <a href="https://github.com/HugoBlox/hugo-blox-builder" target="_blank" rel="noopener">open source</a> website builder that empowers creators.
    
  </p>
</footer>

    </div>
    
  </div>

  


<script src="/js/vendor-bundle.min.5faf09821dbe513ca103e87bafd52766.js"></script>




  

  
  

  






  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.min.js" integrity="" crossorigin="anonymous"></script>



































<script id="page-data" type="application/json">{"use_headroom":true}</script>


  <script src="/js/wowchemy-headroom.db4755770454eb63685f8de785c0a172.js" type="module"></script>










<script src="/en/js/wowchemy.min.e166a4f802c5f09237cc72919197d83b.js"></script>



  <script src="/js/wowchemy-map.a26e9d2f7238ba5b868384f1c5bc6477.js" type="module"></script>




  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        
        <pre><code></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>


  <script src="/js/wowchemy-publication.9c0e895144aef5a693008b5c5d450147.js" type="module"></script>


















</body>
</html>
